{% extends "_base.html" %}
{% load static %}

{% block content %}


<div class="mt-4">			
	<h3>Список учеников</h3>
		<a href="{% url 'student_create'%}">Добавить ученика</a>
				<form class="row row-cols-lg-auto g-3 align-items-center mb-2 " action='' >
			  <div class="col-4">
			      <label class="visually-hidden" for="inlineFormInputGroupUsername">Имя</label>
			      <input type="text" class="form-control" id="inlineFormInputGroupUsername" placeholder="Имя ученика"
			      name="q" value="{{search_query}}"
			      >
			   </div>

			 <div class="col-md-2 col-12">
			 	<label class="visually-hidden" for="gradeInput">класс:
			 	</label>
			 	<input 
			 		class="form-control" 
			 		type="number"
			 		name="grade"
			 		min='0'
			 		max='11'
			 		id="gradeInput">
			 	
			 </div>

			<div class="row mt-2">
			  <div class=" col-md-4 col-15">
			    <button type="submit" class="btn btn-primary">Поиск</button>
			  </div>
			</div> 
		</form>
	<table class="table table-dark table-borderless">
	  <thead>
	    <tr>
	      <th scope="col">#</th>
	      <th scope="col">Имя</th>
	      <th scope="col">Фамилия</th>
	      <th scope="col">Школа</th>
	      <th scope="col">Класс</th>
	      <th scope="col">Учитель</th>
	    </tr>
	  </thead>
	  <tbody>
	  	{% for s in students %}
	    <tr>
	      <td scope="row">{{s.id}}</td>
	      <td>
	      	<a href="{% url 'student_detail' s.id %}">
	      		{{s.name}}
	      	</a>	
	  	  </td>
	      <td>{{s.surname}}</td>
	      <td>{{s.school}}</td>
	      <td>{{s.grade}}</td>
	      <td>{{s.teacher.name}}</td>
	    </tr>
	{% empty %}
	    <tr>
	    	<td colspan="5">
	    		Поииск не дал результатов
	    	</td>
	    </tr>
	    {% endfor %}
	  </tbody>
	</table>
</div>

{% endblock content %}